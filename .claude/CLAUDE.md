# BoatAI プロジェクト - Claude Code 設定

## プロジェクト概要
- ボートレースAI予想サービス
- React + Vite + react-router-dom
- モバイルファーストのPWA

## 重要な制約

### Claude Codeの限界
- モバイル実機でのテストは不可能。ユーザーに確認を依頼する
- 複雑な修正を何度も試すより、**シンプルに再実装**を優先する
- 3回以上同じ問題で失敗したら、一度立ち止まって別のアプローチを提案する

### モバイル対応で注意すること
- iOSのタッチイベントは問題が多い。`onClick` のみでシンプルに実装する
- `overflow: hidden/auto` はサブ要素のタッチイベントを妨げる
- 複雑なイベントハンドラ（onTouchEnd + onClick + タイムスタンプ制御）は避ける
- ドロップダウン/モーダルは親要素のoverflow制約を受けない位置に配置する

## コーディング規約

### CSS
- `!important` は基本使わない。使う場合は設計を見直す
- メディアクエリで同じ要素に対する重複したスタイルを避ける
- 複雑なz-index管理より、DOM構造をシンプルにする

### React
- イベントハンドラはシンプルに保つ
- 状態管理が複雑になったらカスタムフックに切り出す
- デバッグ用コード（console.log）は問題解決後に必ず削除

## デバッグ手順

### モバイルで動作しない場合
1. まずPC版で動作確認
2. PC版で動くがモバイルで動かない → CSS/イベントの問題
3. 3回修正して解決しない → 該当部分を削除して再実装

### 調査の優先順位
1. CSSの `overflow`, `z-index`, `position` を確認
2. イベントハンドラの複雑さを確認
3. 親要素の制約を確認

## ファイル構造
```
src/
├── App.jsx          # メインコンポーネント、ルーティング
├── App.css          # グローバルスタイル
├── components/      # 再利用可能なコンポーネント
├── services/        # API、データサービス
└── utils/           # ユーティリティ関数
```

## よく使うコマンド
- `npm run dev` - 開発サーバー起動
- `npm run build` - プロダクションビルド
- `npm run preview` - ビルド結果のプレビュー
