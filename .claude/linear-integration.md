# Claude Code × Linear統合プロンプト

Claude Codeでコードを実装する際に、自動的にLinearチケットを作成・更新するためのプロンプトです。

## 📋 使用方法

Claude Codeを実行する際に、このプロンプトを参照してください：

```bash
claude-code --prompt .claude/linear-integration.md
```

または、プロンプトの内容を直接指定：

```bash
claude-code "機能を実装してください。実装開始時にLinearチケットを作成し、完了時に更新してください。"
```

## 🎯 動作指示

### 実装開始時

1. **タスクを整理する**
   - 実装する機能を明確にする
   - 必要なステップをリストアップ

2. **Linearチケットを作成**
   - 実装する機能のタイトルと説明を準備
   - 以下のコマンドでLinearチケットを作成：
     ```bash
     npm run linear:create "タイトル" "説明"
     ```
   - 作成されたチケットIDを記録（例: `BIZ-123`）

3. **チケットを「進行中」に更新**
   - 実装を開始する際に、チケットの状態を更新：
     ```bash
     npm run linear:update BIZ-123 "進行中" "実装を開始"
     ```

### 実装中

1. **進捗を記録**
   - 重要なマイルストーンに到達したら、コメントを追加：
     ```bash
     npm run linear:comment BIZ-123 "進捗: データ取得部分の実装が完了"
     ```

2. **気づきを記録**
   - 実装中に気づいたことや改善点があれば、新しいチケットを作成：
     ```bash
     npm run linear:create "気づき: パフォーマンス改善の余地" "詳細な説明"
     ```

### 実装完了時

1. **チケットを「完了」に更新**
   - 実装が完了したら、チケットの状態を更新：
     ```bash
     npm run linear:update BIZ-123 "完了" "実装完了。テストを実施中"
     ```

2. **実装内容をコメントに記録**
   - 実装した内容の概要をコメントとして追加：
     ```bash
     npm run linear:comment BIZ-123 "実装完了: 以下の機能を追加
     - 機能A
     - 機能B
     - 機能C"
     ```

## 📝 プロンプトテンプレート

### 基本的な実装プロンプト

```
以下の機能を実装してください。

【機能名】
[機能の説明]

【実装手順】
1. Linearチケットを作成（タイトル: [機能名]、説明: [詳細]）
2. チケットを「進行中」に更新
3. 実装を開始
4. 進捗をコメントで記録
5. 実装完了時にチケットを「完了」に更新

【注意事項】
- 実装中に気づいたことは新しいチケットとして記録
- 重要なマイルストーンに到達したらコメントを追加
- 実装完了時には実装内容の概要をコメントに記録
```

### バグ修正プロンプト

```
以下のバグを修正してください。

【バグの説明】
[バグの詳細]

【実装手順】
1. Linearチケットを作成（タイトル: バグ修正: [バグ名]、説明: [詳細]）
2. チケットを「進行中」に更新
3. 原因を調査し、コメントに記録
4. 修正を実施
5. テストを実施
6. チケットを「完了」に更新
```

### リファクタリングプロンプト

```
以下のコードをリファクタリングしてください。

【対象】
[リファクタリング対象の説明]

【実装手順】
1. Linearチケットを作成（タイトル: リファクタリング: [対象]、説明: [詳細]）
2. チケットを「進行中」に更新
3. リファクタリングを実施
4. テストを実施
5. チケットを「完了」に更新
```

## 🔧 環境変数の確認

Linear APIキーが設定されているか確認：

```bash
echo $LINEAR_API_KEY
```

設定されていない場合は、設定してください：

```bash
export LINEAR_API_KEY="lin_api_xxxxxxxxxxxxx"
```

## 📚 参考

- [Linear CLI ドキュメント](../docs/linear-claude-code-integration.md)
- [Linear自動統合ガイド](../docs/linear-auto-integration.md)

