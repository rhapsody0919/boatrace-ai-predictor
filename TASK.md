# TASK管理

## 進行中 🚧

### フェーズ1: コンテンツ投稿・SNS運用開始

#### note記事投稿（今週〜来週）
- [ ] 記事11: ボートレースで勝てない人の5つの共通点投稿（12/19予定）
- [ ] 記事12: 月5万円の副収入ロードマップ投稿（12/21予定）
- [ ] 記事14: AI予想vs人間予想の検証投稿（12/23予定）
- [ ] 記事13: プロが買わない舟券の特徴投稿（12/26予定）
- [ ] 記事15: 破産防止のルール投稿（12/28予定）

#### X運用開始
- [ ] 1週間分のツイート予約投稿設定（12/17〜12/23、全20投稿）
- [ ] 実績報告の数値を毎日の実データに更新
- [ ] note記事URLを実際のURLに差し替え
- [ ] エンゲージメント活動開始（毎日45分）
  - [ ] リプライ返信（1日10件）
  - [ ] いいね（1日70件）
  - [ ] リツイート（1日2件）

#### 効果測定
- [ ] 1週間後の振り返り（12/24）
  - [ ] フォロワー増加数の確認
  - [ ] エンゲージメント率の測定
  - [ ] boat-ai.jp PVの確認

## 未着手 📋

### 収益化準備（AdSense申請前の準備）

#### フェーズ1: 追加コンテンツ作成（今月〜来月）
- [x] note記事6〜15本の作成完了（全15本）
  - [x] 記事6: ボートレース初心者が知るべき5つの基本
  - [x] 記事7: 1万円を確実に増やす舟券戦略
  - [x] 記事8: AIが分析する選手データの見方
  - [x] 記事9: モーター性能で勝率が変わる理由
  - [x] 記事10: 12/10実績レポート（実データ版）
  - [x] 記事11: ボートレースで勝てない人の5つの共通点
  - [x] 記事12: 月5万円の副収入ロードマップ
  - [x] 記事13: プロが絶対に買わない舟券7選
  - [x] 記事14: AI予想vs人間予想の検証
  - [x] 記事15: 破産防止の3つのルール
- [ ] note記事16〜20本の追加作成（目標20本）
  - [ ] 記事16: 週次実績レポート（第3週）
  - [ ] 記事17: 特定ボートレース場の詳細分析（大村 or 徳山）
  - [ ] 記事18: 展示航走の完全ガイド
  - [ ] 記事19: 季節別攻略法（冬のボートレース）
  - [ ] 記事20: 月次まとめレポート（12月総括）

#### フェーズ3: 教育的コンテンツ作成（2〜3週間）
- [ ] サイト内ブログ記事を10本作成
  - [ ] ボートレースの基礎知識（初心者向け）
  - [ ] データ分析手法の解説
  - [ ] モーター性能の見方
  - [ ] 選手の実績データの読み方
  - [ ] 的中率を上げるコツ
  - [ ] 各ボートレース場の特徴（24場）
  - [ ] 風・波の影響について
  - [ ] レース展開の予測方法
  - [ ] 統計データの活用法
  - [ ] BoatAIの分析レポート

#### フェーズ4: 運営・分析・自動化（1〜2ヶ月）
- [ ] アクセス解析（Google Analytics活用）
  - [ ] 月間1000PV以上を目標
  - [ ] ユーザー行動の分析
  - [ ] 人気コンテンツの特定
- [ ] X自動化実装
  - [ ] X API取得申請
  - [ ] 自動投稿スクリプト作成
  - [ ] GitHub Actionsとの統合
  - [ ] 毎日の実績自動ツイート
  - [ ] note記事公開時の自動シェア

#### フェーズ5: 収益化実行
- [ ] Google AdSense申請（上記完了後）
- [ ] 代替収益化の検討
  - [ ] アフィリエイト導入の検討
  - [ ] 有料note販売の検討
  - [ ] プレミアム機能の企画


### 現在のシステム構成
- **Frontend**: React + Vite
- **Hosting**: Vercel
- **Domain**: boat-ai.jp (お名前.com)
- **DNS**: dnsv.jp
- **CI/CD**: GitHub Actions (1時間ごとにデータ更新 + Vercel Deploy Hook)

### データ構造
- 予想データ: `public/data/predictions/YYYY-MM-DD.json`
- レースデータ: `public/data/races.json`
- RaceIdフォーマット: `YYYY-MM-DD-PlaceCode-RaceNo`

### 最近の主要な変更
1. 的中レースを専用ページに分離（別タブ）
2. ボートレース場別の的中実績表示機能追加（期間切り替え対応）
3. RaceId解析ロジック修正

### Google AdSense申請の注意点

**現状で申請すると不合格の可能性が高い理由:**
1. コンテンツ量不足（ブログ記事がない）
2. ギャンブル関連コンテンツ（ボートレース予想）
3. ツール系サイトは審査が厳しい

**合格可能性を上げるために:**
- note記事5〜10本（1〜2週間）
- サイト内ブログセクション追加（1週間）
- 教育的コンテンツ10記事（2〜3週間）
- 1〜2ヶ月運営して実績作り
- 月間1000PV以上を目標

**代替収益化方法:**
- アフィリエイト（ボートレース関連サービス）
- 有料note販売（詳細分析レポート）
- サブスクリプション（プレミアム機能）

## 🎯 モデル導入・拡張計画

### 現状分析（2025-12-19時点）

#### 3モデルシステムの現状
- ✅ **予想生成**: generate-predictions.jsは3モデル（standard, safeBet, upsetFocus）対応済み
- ✅ **統計計算**: calculate-accuracy.jsは3モデル対応済み
- ✅ **UI表示**: AccuracyDashboard.jsxにモデル選択タブ実装済み
- ⚠️ **データ蓄積**: standardのみ2,028レース、safeBet/upsetFocusは今日から開始

#### データ構造の互換性
- **過去データ（〜2025-12-18）**: `race.prediction`（単一モデル）→ standardとして計算
- **新データ（2025-12-19〜）**: `race.predictions.{standard, safeBet, upsetFocus}`（3モデル）
- **後方互換性**: 完全対応済み

### モデル拡張計画

#### フェーズ1: 現行3モデルの検証（1-2ヶ月）
**目的**: 十分なデータを蓄積し、モデル間の有意差を検証

**タスク**:
- [ ] 3モデルで100レース以上のデータを蓄積
- [ ] モデル間の統計的有意差を分析
- [ ] ボートレース場別のモデル適性を分析
- [ ] ユーザーフィードバックの収集

**判断基準**:
- モデル間で回収率に10%以上の差がある
- 特定のボートレース場でモデル適性が明確に分かれる
- ユーザーから「もっとモデルが欲しい」という要望が複数ある

#### フェーズ2: モデル追加の検討（必要に応じて）
**候補モデル**:
1. **placeSpecialized（複勝特化型）**: 的中率最重視、低リスク・低リターン
2. **valueHunter（バリューベット型）**: 期待値重視、オッズと予想を組み合わせ

**追加条件**:
- フェーズ1の分析で既存3モデルに明確な弱点が見つかった場合
- 5モデルは混乱を招く可能性があるため、慎重に判断

### ボートレース場別統計の実装 🎯

#### 優先度: 高
**理由**: ユーザーにとって実用性が高く、差別化ポイントになる

**データ構造案**:
```javascript
{
  "models": {
    "standard": {
      "overall": {...},
      "byVenue": {
        "桐生": {
          "totalRaces": 85,
          "topPickHitRate": 0.32,
          "actualRecovery": {
            "trio": 1.45  // 回収率145%
          }
        },
        "平和島": {
          "totalRaces": 78,
          "topPickHitRate": 0.18,
          "actualRecovery": {
            "trio": 0.65  // 回収率65%
          }
        }
      }
    }
  }
}
```

**実装タスク**:
- [ ] calculate-accuracy.jsにボートレース場別集計機能を追加
- [ ] summary.jsonにボートレース場別統計を追加
- [ ] 新しいページまたはセクションを作成（VenueStats.jsx）
- [ ] 得意/苦手ボートレース場のランキング表示
- [ ] ボートレース場ごとの推奨モデル表示

**UI表示例**:
```
📊 ボートレース場別パフォーマンス

モデル: [スタンダード ▼]

得意なボートレース場 TOP 5:
1. 🏆 桐生    的中率32% 回収率145% (85レース)
2. 🥈 徳山    的中率30% 回収率132% (92レース)
3. 🥉 下関    的中率29% 回収率128% (88レース)

苦手なボートレース場:
❌ 平和島   的中率18% 回収率65% (78レース)
❌ 江戸川   的中率19% 回収率70% (81レース)

💡 推奨: 桐生・徳山のレースに絞ると回収率アップ！
```

### UI改善計画

#### 荒れ度の根拠説明表示
**現状**: 「荒れ度: 高」だけで理由が不明

**改善案**:
```javascript
{
  "volatility": {
    "score": 75,
    "level": "高",
    "reasons": [
      "1号艇の勝率が平均より15%低い（35% vs 50%）",
      "モーター2連率のばらつきが大きい（σ=18.2）",
      "風速5m超で波が高い"
    ]
  }
}
```

**実装タスク**:
- [ ] generate-predictions.jsの荒れ度計算にreasons配列を追加
- [ ] App.jsxに荒れ度理由の表示セクションを追加

#### おすすめモデル表示
**実装タスク**:
- [ ] 荒れ度に基づく推奨モデルロジック改善
- [ ] ボートレース場統計に基づく推奨モデル追加
- [ ] UI表示の改善

**表示例**:
```
🎯 今日のおすすめモデル

12R 桐生 (14:30)
推奨: 🏆 スタンダード
理由: 桐生ではスタンダードが回収率145%

11R 平和島 (14:00)
推奨: ⚠️ 見送り推奨
理由: 平和島は全モデルで苦戦中（回収率70%以下）
```

### データ管理・スケーリング計画

#### JSONファイルの限界
**現在のデータ量**:
- summary.json: 41KB（2,028レース）
- 日別JSONファイル: 平均555KB/日
- 1年間の試算: 約200MB

**問題点**:
- 3ヶ月で約50MB、パフォーマンス低下の懸念
- ブラウザでの読み込み時間増加
- 複雑なクエリ（ボートレース場別など）が困難

#### DB移行のタイミング 📅
**推奨**: 2025年3-4月頃（3-4ヶ月後）

**理由**:
- データ量が50-70MBに達する前
- ボートレース場別統計など複雑なクエリが必要になる
- ユーザー数増加による同時アクセス対応

#### 移行までの対策
1. **summary.jsonの最適化**:
   - dailyHistoryは直近90日分のみ保持
   - 古いデータは月次集計に変換

2. **日別JSONファイルの分割配置**:
   ```
   data/predictions/2025/12/2025-12-18.json  // 年月でディレクトリ分け
   ```

3. **遅延読み込み**:
   - 初期表示はsummary.jsonのみ
   - 詳細データは必要に応じて個別に読み込み

#### DB選定候補
1. **Supabase** (推奨):
   - PostgreSQL
   - 無料枠が十分
   - Vercelとの相性が良い
   - リアルタイム機能あり

2. **PlanetScale**:
   - MySQL互換
   - 無料枠あり
   - スケーラビリティ高い

3. **MongoDB Atlas**:
   - NoSQL
   - JSONデータとの親和性が高い
   - 無料枠あり

### 実装優先順位

#### 今すぐ実施（今週〜来週）
1. ✅ 3モデルの統計計算修正（完了）
2. ✅ AccuracyDashboard.jsxのベストモデル表示（完了）
3. [ ] summary.jsonの最適化（90日制限）
4. [ ] 荒れ度の根拠説明表示

#### 短期（1ヶ月以内）
1. [ ] ボートレース場別統計の実装
2. [ ] おすすめモデル表示の改善
3. [ ] 日別JSONファイルの分割配置

#### 中期（2-3ヶ月）
1. [ ] 3モデルのデータ蓄積と分析
2. [ ] モデル追加の必要性判断
3. [ ] DB移行の準備（Supabase検証）

#### 長期（3-4ヶ月以降）
1. [ ] データベース移行（Supabase）
2. [ ] 高度な分析機能（時系列グラフなど）
3. [ ] モデル追加（必要に応じて）

### 現在の進捗状況（2025-12-19時点）

**完了**:
- ✅ calculate-accuracy.jsの3モデル対応バグ修正
- ✅ AccuracyDashboard.jsxにベストモデル表示追加
- ✅ データなしモデルへの適切なメッセージ表示
- ✅ UI/CSSスタイル改善

**次のステップ**:
1. summary.jsonの最適化（90日制限）
2. ボートレース場別統計の実装
3. 荒れ度根拠説明の実装

### 現在の進捗状況（2025-12-18時点）

**完了**:
- ✅ note記事15本作成完了（目標20本の75%達成）
- ✅ SNSシェア機能実装完了（X、Facebook、LINE対応）
- ✅ UI改善完了（ラベル視認性、ローディング体験）
- ✅ ブログセクション実装完了（サイトページ数: 5→25+）
- ✅ データ取得表現の修正完了（法的リスク回避）
- ✅ noteアカウント作成・プロフィール設定完了
- ✅ Xアカウント作成完了
- ✅ Xコンテンツ戦略策定完了
- ✅ 1週間分のツイート作成完了

**進行中**:
- 🚧 note記事11-15の投稿（週1〜2回ペース）
- 🚧 X運用開始（予約投稿 + エンゲージメント）
- 🚧 効果測定

**次のステップ（推奨順）**:
1. **今週**: note記事11-15を順次投稿（12/19〜12/28）
2. **今週**: X予約投稿設定 + エンゲージメント活動開始
3. **1週間後**: 効果測定・分析（PV、フォロワー増加）
4. **2週間後**: 追加コンテンツ作成（記事16-20で目標20本達成）
5. **1ヶ月後**: X自動化の実装検討
6. **1〜2ヶ月後**: AdSense申請（ブログセクション完成済み✅）