# Supabaseç§»è¡Œå¾Œã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯äº’æ›æ€§

## ğŸ¯ çµè«–: **ç¾åœ¨ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã¯ãã®ã¾ã¾ä½¿ãˆã¾ã™**

Supabaseã«ãƒ‡ãƒ¼ã‚¿ã‚’ç§»è¡Œã—ã¦ã‚‚ã€**Vercelã€GitHub Actionsã€Reactãªã©ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã¯ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½**ã§ã™ã€‚è¿½åŠ ã§å¿…è¦ãªã®ã¯**APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®Ÿè£…**ã®ã¿ã§ã™ã€‚

---

## ğŸ“Š ç¾åœ¨ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Vite + React** - é™çš„ã‚µã‚¤ãƒˆ
- **React Router** - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **Vercel** - ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **ãªã—**ï¼ˆé™çš„ã‚µã‚¤ãƒˆï¼‰

### ãƒ‡ãƒ¼ã‚¿
- **JSONãƒ•ã‚¡ã‚¤ãƒ«** - GitHubãƒªãƒã‚¸ãƒˆãƒªã«ä¿å­˜
- **public/data/** - Vercelç”¨ã«ã‚³ãƒ”ãƒ¼

### CI/CD
- **GitHub Actions** - ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã€äºˆæƒ³ç”Ÿæˆ
- **Vercel** - è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### ãã®ä»–
- **Google Analytics** - ã‚¢ã‚¯ã‚»ã‚¹è§£æ
- **SendGrid** - ãƒ¡ãƒ¼ãƒ«é€šçŸ¥
- **Google Sheets API** - ãƒ‡ãƒ¼ã‚¿é€£æº

---

## âœ… Supabaseç§»è¡Œå¾Œã‚‚ä½¿ãˆã‚‹æŠ€è¡“

### 1. Vercelï¼ˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼‰âœ… **ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½**

**ç†ç”±:**
- Vercelã¯é™çš„ã‚µã‚¤ãƒˆã¨Serverless Functionsã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆ
- Supabaseã¯HTTP APIã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯Reactã®ã¾ã¾å¤‰æ›´ä¸è¦

**å¤‰æ›´ç‚¹:**
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’JSONãƒ•ã‚¡ã‚¤ãƒ« â†’ APIå‘¼ã³å‡ºã—ã«å¤‰æ›´
- ã‚ªãƒ—ã‚·ãƒ§ãƒ³: Vercel Serverless Functionsã§APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®Ÿè£…ï¼ˆæ¨å¥¨ï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ:**
- Vercelã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ååˆ†
- é«˜é€ŸãªCDNé…ä¿¡
- è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤æ©Ÿèƒ½

---

### 2. GitHub Actionsï¼ˆCI/CDï¼‰âœ… **ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½**

**ç†ç”±:**
- GitHub Actionsã‹ã‚‰Supabaseã«ç›´æ¥æ¥ç¶šå¯èƒ½
- Node.jsç’°å¢ƒã§ `pg` ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨
- æ—¢å­˜ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’DBå¯¾å¿œã«å¤‰æ›´ã™ã‚‹ã ã‘

**å¤‰æ›´ç‚¹:**
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’DBæ›¸ãè¾¼ã¿å¯¾å¿œã«å¤‰æ›´
- ç’°å¢ƒå¤‰æ•° `DATABASE_URL` ã‚’GitHub Secretsã«è¨­å®š

**ãƒ¡ãƒªãƒƒãƒˆ:**
- æ—¢å­˜ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šï¼ˆcronï¼‰ã‚’ãã®ã¾ã¾ä½¿ç”¨
- ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ååˆ†ï¼ˆæœˆé–“2,000åˆ†ï¼‰

---

### 3. Reactï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰âœ… **ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½**

**ç†ç”±:**
- Reactã¯Supabaseã¨å®Œå…¨ã«äº’æ›æ€§ã‚ã‚Š
- `fetch` APIã§Supabase REST APIã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- ã¾ãŸã¯Supabase JavaScriptã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨

**å¤‰æ›´ç‚¹:**
```javascript
// å¤‰æ›´å‰ï¼ˆJSONãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
const response = await fetch('/data/races.json');

// å¤‰æ›´å¾Œï¼ˆSupabase APIï¼‰
const response = await fetch('/api/races?date=2025-12-05');
// ã¾ãŸã¯
const { data } = await supabase.from('races').select('*').eq('date', '2025-12-05');
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å¤‰æ›´ä¸è¦
- çŠ¶æ…‹ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯ã¯ãã®ã¾ã¾

---

### 4. Viteï¼ˆãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ï¼‰âœ… **ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½**

**ç†ç”±:**
- Viteã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- Supabaseã¨ã¯ç‹¬ç«‹ã—ã¦å‹•ä½œ
- ãƒ“ãƒ«ãƒ‰è¨­å®šã¯å¤‰æ›´ä¸è¦

**å¤‰æ›´ç‚¹:**
- ãªã—ï¼ˆãã®ã¾ã¾ä½¿ç”¨ï¼‰

---

### 5. ãã®ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ âœ… **ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½**

- **Google Analytics** - å¤‰æ›´ä¸è¦
- **SendGrid** - å¤‰æ›´ä¸è¦
- **Google Sheets API** - å¤‰æ›´ä¸è¦

---

## ğŸ”„ ç§»è¡Œå¾Œã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ç¾åœ¨ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
GitHub Actions
  â†“ (JSONãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿)
GitHubãƒªãƒã‚¸ãƒˆãƒª
  â†“ (Git push)
Vercelè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
  â†“ (é™çš„ãƒ•ã‚¡ã‚¤ãƒ«é…ä¿¡)
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶
  â†“ (JSONãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿)
Reactã‚¢ãƒ—ãƒª
```

### Supabaseç§»è¡Œå¾Œã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
GitHub Actions
  â†“ (Supabaseã«ç›´æ¥æ›¸ãè¾¼ã¿)
Supabase (PostgreSQL)
  â†“
Vercel Serverless Functions (API)
  â†“ (APIå‘¼ã³å‡ºã—)
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶
  â†“ (APIçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿å–å¾—)
Reactã‚¢ãƒ—ãƒª
```

**ã¾ãŸã¯ï¼ˆSupabase REST APIç›´æ¥ä½¿ç”¨ï¼‰:**

```
GitHub Actions
  â†“ (Supabaseã«ç›´æ¥æ›¸ãè¾¼ã¿)
Supabase (PostgreSQL)
  â†“ (Supabase REST API)
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶
  â†“ (Supabase REST APIç›´æ¥å‘¼ã³å‡ºã—)
Reactã‚¢ãƒ—ãƒª
```

---

## ğŸ†• è¿½åŠ ã§å¿…è¦ãªå®Ÿè£…

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: Vercel Serverless Functionsï¼ˆæ¨å¥¨ï¼‰

**ç†ç”±:**
- APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä¸€å…ƒç®¡ç†
- èªè¨¼ã‚„ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’å®Ÿè£…å¯èƒ½
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚’å®Ÿè£…å¯èƒ½

**å®Ÿè£…:**
```
api/
â”œâ”€â”€ races.js          # GET /api/races?date=...
â”œâ”€â”€ predictions.js    # GET /api/predictions/:raceId
â”œâ”€â”€ results.js        # GET /api/results/:raceId
â””â”€â”€ accuracy.js       # GET /api/accuracy?model=...
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- Vercelã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ä½¿ç”¨å¯èƒ½
- ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«
- ãƒ­ã‚°ã¨ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãŒå……å®Ÿ

---

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: Supabase REST APIç›´æ¥ä½¿ç”¨

**ç†ç”±:**
- å®Ÿè£…ãŒç°¡å˜ï¼ˆSupabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨ï¼‰
- ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é–¢æ•°ãŒä¸è¦

**å®Ÿè£…:**
```javascript
// src/utils/supabase.js
import { createClient } from '@supabase/supabase-js'

const supabase = createClient(
  process.env.VITE_SUPABASE_URL,
  process.env.VITE_SUPABASE_ANON_KEY
)

export default supabase
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- å®Ÿè£…ãŒç°¡å˜
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½ã‚‚ä½¿ç”¨å¯èƒ½

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:**
- èªè¨¼ã‚­ãƒ¼ãŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«éœ²å‡ºï¼ˆRow Level Securityã§ä¿è­·ï¼‰
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®å®Ÿè£…ãŒå›°é›£

---

## ğŸ“ ç§»è¡Œæ‰‹é †

### ãƒ•ã‚§ãƒ¼ã‚º1: Supabaseã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
1. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
2. ã‚¹ã‚­ãƒ¼ãƒé©ç”¨
3. ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ

### ãƒ•ã‚§ãƒ¼ã‚º2: APIå®Ÿè£…ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³1æ¨å¥¨ï¼‰
1. Vercel Serverless Functionsã§APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
2. Supabaseã«æ¥ç¶š
3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰APIå‘¼ã³å‡ºã—

### ãƒ•ã‚§ãƒ¼ã‚º3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å¯¾å¿œ
1. JSONãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ â†’ APIå‘¼ã³å‡ºã—ã«å¤‰æ›´
2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¿½åŠ 
3. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®æ”¹å–„

### ãƒ•ã‚§ãƒ¼ã‚º4: ã‚¹ã‚¯ãƒªãƒ—ãƒˆå¯¾å¿œ
1. GitHub Actionsã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’DBå¯¾å¿œã«å¤‰æ›´
2. ç’°å¢ƒå¤‰æ•°è¨­å®š
3. å‹•ä½œç¢ºèª

---

## ğŸ’° ã‚³ã‚¹ãƒˆæ¯”è¼ƒ

### ç¾åœ¨ï¼ˆJSONãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

| ã‚µãƒ¼ãƒ“ã‚¹ | ãƒ—ãƒ©ãƒ³ | æœˆé¡ |
|---------|--------|------|
| Vercel | Hobby | $0 |
| GitHub Actions | Free | $0 |
| **åˆè¨ˆ** | | **$0** |

### Supabaseç§»è¡Œå¾Œ

| ã‚µãƒ¼ãƒ“ã‚¹ | ãƒ—ãƒ©ãƒ³ | æœˆé¡ |
|---------|--------|------|
| Vercel | Hobby | $0 |
| GitHub Actions | Free | $0 |
| Supabase | Free | $0ï¼ˆ1-2å¹´ï¼‰ |
| **åˆè¨ˆ** | | **$0ï¼ˆ1-2å¹´ï¼‰** |

**2å¹´ç›®ä»¥é™:**
- Supabase Proãƒ—ãƒ©ãƒ³ï¼ˆ$25/æœˆï¼‰ãŒå¿…è¦ã«ãªã‚‹å¯èƒ½æ€§

---

## ğŸ¯ æ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æ¨å¥¨æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actions (ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°)          â”‚
â”‚  â†“ Supabaseã«ç›´æ¥æ›¸ãè¾¼ã¿                â”‚
â”‚  Supabase (PostgreSQL)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vercel Serverless Functions (API)       â”‚
â”‚  - /api/races                           â”‚
â”‚  - /api/predictions                     â”‚
â”‚  - /api/accuracy                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vercel (é™çš„ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°)          â”‚
â”‚  - Reactã‚¢ãƒ—ãƒª                           â”‚
â”‚  - APIå‘¼ã³å‡ºã—                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- âœ… æ—¢å­˜ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã‚’ãã®ã¾ã¾ä½¿ç”¨
- âœ… Vercelã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§é‹ç”¨å¯èƒ½
- âœ… ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«
- âœ… ã‚»ã‚­ãƒ¥ã‚¢ï¼ˆAPIã‚­ãƒ¼ã‚’ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ç®¡ç†ï¼‰

---

## âš ï¸ æ³¨æ„äº‹é …

### 1. ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†

**GitHub Actions:**
- `DATABASE_URL` ã‚’GitHub Secretsã«è¨­å®š
- Supabaseã®æ¥ç¶šæƒ…å ±ã‚’å®‰å…¨ã«ç®¡ç†

**Vercel:**
- `DATABASE_URL` ã‚’Vercelç’°å¢ƒå¤‰æ•°ã«è¨­å®š
- Serverless Functionsã‹ã‚‰Supabaseã«æ¥ç¶š

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆSupabase REST APIç›´æ¥ä½¿ç”¨ã®å ´åˆï¼‰:**
- `VITE_SUPABASE_URL` ã¨ `VITE_SUPABASE_ANON_KEY` ã‚’è¨­å®š
- Row Level Securityã§ä¿è­·

---

### 2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

**æ¨å¥¨:**
- Vercel Serverless FunctionsçµŒç”±ã§APIã‚’æä¾›ï¼ˆæ¨å¥¨ï¼‰
- Supabase Row Level Securityã‚’è¨­å®š
- APIãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’å®Ÿè£…

**é¿ã‘ã‚‹ã¹ã:**
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ç›´æ¥Supabaseã«æ¥ç¶šï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ï¼‰
- èªè¨¼ã‚­ãƒ¼ã‚’ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«éœ²å‡º

---

### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

**æœ€é©åŒ–:**
- APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆ5åˆ†é–“éš”ãªã©ï¼‰
- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’é©åˆ‡ã«è¨­å®š
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ï¼ˆå¤§é‡ãƒ‡ãƒ¼ã‚¿ã®å ´åˆï¼‰

---

## ğŸ“š å®Ÿè£…ä¾‹

### Vercel Serverless Functionä¾‹

```javascript
// api/races.js
import pool from '../scripts/utils/db.js'

export default async function handler(req, res) {
  if (req.method !== 'GET') {
    return res.status(405).json({ error: 'Method not allowed' })
  }

  const { date } = req.query

  try {
    const result = await pool.query(`
      SELECT r.*, v.venue_name
      FROM races r
      JOIN venues v ON r.venue_code = v.venue_code
      WHERE r.date = $1
      ORDER BY r.venue_code, r.race_number
    `, [date])

    res.status(200).json({ success: true, data: result.rows })
  } catch (error) {
    console.error('Error:', error)
    res.status(500).json({ error: 'Internal server error' })
  }
}
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¾‹

```javascript
// src/App.jsx
const fetchRaceData = async () => {
  try {
    const date = new Date().toISOString().split('T')[0]
    const response = await fetch(`/api/races?date=${date}`)
    const result = await response.json()
    
    if (result.success) {
      setAllVenuesData(result.data)
    }
  } catch (error) {
    console.error('Error:', error)
  }
}
```

---

## âœ… ã¾ã¨ã‚

### ãã®ã¾ã¾ä½¿ãˆã‚‹æŠ€è¡“
- âœ… **Vercel** - ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- âœ… **GitHub Actions** - CI/CD
- âœ… **React** - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- âœ… **Vite** - ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- âœ… **Google Analytics** - ã‚¢ã‚¯ã‚»ã‚¹è§£æ
- âœ… **SendGrid** - ãƒ¡ãƒ¼ãƒ«é€šçŸ¥

### è¿½åŠ ã§å¿…è¦ãªå®Ÿè£…
- ğŸ†• **Vercel Serverless Functions** - APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆæ¨å¥¨ï¼‰
- ğŸ†• **Supabaseæ¥ç¶š** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š

### å¤‰æ›´ãŒå¿…è¦ãªéƒ¨åˆ†
- ğŸ”„ **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** - JSONèª­ã¿è¾¼ã¿ â†’ APIå‘¼ã³å‡ºã—
- ğŸ”„ **ã‚¹ã‚¯ãƒªãƒ—ãƒˆ** - JSONæ›¸ãè¾¼ã¿ â†’ DBæ›¸ãè¾¼ã¿

**çµè«–: æ—¢å­˜ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã¯ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½ã€‚è¿½åŠ å®Ÿè£…ã¯æœ€å°é™ã§æ¸ˆã‚€ã€‚**

